# Web Runtime Test Suite User Guide

## Overview

This document provides method to run WRT Crosswalk Test Suite. You can use the following method to run it with testkit-lite. Testkit tool-chain includes 2 components:

- testkit-lite: a command-line interface application deployed on Host
- testkit-stub: a test stub application deployed on Device

## Install testkit-lite on Host

- Deploy testkit-lite

 - Install dependency python-requests (version>1.0)

        $ sudo apt-get install python-pip

        $ sudo pip install requests

 - Install testkit-lite from source code in GitHub

        $ git clone https://github.com/testkit/testkit-lite

        $ cd testkit-lite

        $ sudo python setup.py install


## Install Web Runtime Test Suite

        $ unzip <package-name>-<version>.zip
        $ cd opt/<test-suite>
        $ ./inst.py


## Deploy Webdriver service

        $ git clone https://github.com/crosswalk-project/crosswalk-web-driver
        $ cd crosswalk-web-driver/bin
        $ ./xwalkdriver32_20141121


## Run Web Runtime Test Suite

There are many types(js, script, pyunit, wrt, bdd) of test cases in Web Runtime test suites.

- For Android testing:

    - js tests:

        $ testkit-lite -f /path/to/tests.xml --e XWalkLauncher -comm androidmobile -o /path/to/result.xml

    - script tests:

        $ testkit-lite -f /path/to/tests.xml --comm localhost  -o /path/to/result.xml --testprefix=/path/to/<package-name>/ --testenvs "DEVICE_ID=E6OKCY411012;CONNECT_TYPE=adb"

    - pyunit tests:

        $ testkit-lite -f /path/to/tests.xml --comm androidmobile -o /path/to/result.xml --testprefix=/path/to/<package-name>/

    - bdd tests:

        $ testkit-lite -f $PWD/tests.xml --comm androidmobile -e XWalkLauncher -k webdriver -o $PWD/result.xml --testprefix=/path/to/<package-name>/

- For Deepin testing:

    - wrt tests:

        $ testkit-lite -f $PWD/tests.xml -A --comm deepin --testprefix $PWD/../../ -o $PWD/result.xml

Notes:
  - Need to install Runtimelib.apk for shared mode testing on Android.

    Get Runtimelib.apk from `https://download.01.org/crosswalk/releases/crosswalk/android/canary/<version>/<arch>/crosswalk-apks-<version>-<arch>.zip`

  - `DEVICE_ID` can also be multiple ids like "DEVICE_ID=Medfield3C6DFF2E,Medfield3C6DFF00".
    Query device id by command `adb devices -l` in host.


## Viewing test Report

You can check test report in result xml which generated by -o parameter.

